# This Makefile builds the 3 permutations of autodock 4.2 for BlueGene/P and POWER7:
# autodock-bgp-omp-mpi --- This is the BGP hybrid-parallelization version using MPI and OpenMP.
# autodock-bgp-omp-nompi --- This is the BGP OpenMP-only parallelization version for doing just 1 docking.
# autodock-power7-omp-nompi --- This is the POWER7 OpenMP-only parallelization version for doing just 1 docking.
# This Makefile is designed to build just 1 version at a time since the same object file
# names are used for all targets, to avoid collisions in case this make is called with any 
# parallelization options.

autodock-bgp-omp-mpi: cleanbgpmpi autodock4-bgp-omp-mpi

autodock-bgp-serial-mpi: cleanbgpserialmpi autodock4-bgp-serial-mpi

autodock-bgp-omp-nompi: cleanbgpnompi autodock4-bgp-omp-nompi

autodock-power7-omp-nompi: cleanpower7 autodock4-power7-omp-nompi

autodock-power7-serial-nompi: cleanpower7 autodock4-power7-serial-nompi

autodock-x86-serial-nompi: autodock4-x86-serial-nompi

cleanbgpmpi:
	touch dummy.o
	rm *.o
	touch autodock4-bgp-omp-mpi
	rm -rf autodock4-bgp-omp-mpi

cleanbgpserialmpi:
	touch dummy.o
	rm *.o
	touch autodock4-bgp-serial-mpi
	rm -rf autodock4-bgp-serial-mpi

cleanbgpnompi:
	touch dummy.o
	rm *.o
	touch autodock4-bgp-omp-nompi
	rm -rf autodock4-bgp-omp-nompi

autodock4-bgp-omp-mpi:
	make -f Makefile.base DEFS='-DPERF_PROFILING=1 -DAUTODOCK_MPI=1 -DPACKAGE_NAME=\"autodock\" -DPACKAGE_TARNAME=\"autodock\" -DPACKAGE_VERSION=\"4.2.2.1\" -DPACKAGE_STRING=\"autodock\ 4.2.2.1\" -DPACKAGE_BUGREPORT=\"autodock@scripps.edu\" -DPACKAGE=\"autodock\" -DVERSION=\"4.2.2.1\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE__BOOL=1 -DHAVE_STDLIB_H=1 -DHAVE_MALLOC=1 -DHAVE_GETHOSTNAME=1 -DHAVE_POW=1 -DHAVE_SQRT=1 -DHAVE_STRNCASECMP=1' SELECTED_CCOMPILER='/bgsys/drivers/ppcfloor/comm/bin/mpixlc_r' SELECTED_CPPCOMPILER='/bgsys/drivers/ppcfloor/comm/bin/mpixlcxx_r' AM_CXXFLAGS='-O3 -qsmp=omp' AUTODOCK_EXEC_NAME=autodock4-bgp-omp-mpi autodock4-bgp-omp-mpi

autodock4-bgp-serial-mpi:
	make -f Makefile.base DEFS='-DPERF_PROFILING=1 -DAUTODOCK_MPI=1 -DPACKAGE_NAME=\"autodock\" -DPACKAGE_TARNAME=\"autodock\" -DPACKAGE_VERSION=\"4.2.2.1\" -DPACKAGE_STRING=\"autodock\ 4.2.2.1\" -DPACKAGE_BUGREPORT=\"autodock@scripps.edu\" -DPACKAGE=\"autodock\" -DVERSION=\"4.2.2.1\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE__BOOL=1 -DHAVE_STDLIB_H=1 -DHAVE_MALLOC=1 -DHAVE_GETHOSTNAME=1 -DHAVE_POW=1 -DHAVE_SQRT=1 -DHAVE_STRNCASECMP=1' SELECTED_CCOMPILER='/bgsys/drivers/ppcfloor/comm/bin/mpixlc_r' SELECTED_CPPCOMPILER='/bgsys/drivers/ppcfloor/comm/bin/mpixlcxx_r' AM_CXXFLAGS='-O3' AUTODOCK_EXEC_NAME=autodock4-bgp-serial-mpi autodock4-bgp-serial-mpi

autodock4-bgp-omp-nompi:
	make -f Makefile.base DEFS='-DPACKAGE_NAME=\"autodock\" -DPACKAGE_TARNAME=\"autodock\" -DPACKAGE_VERSION=\"4.2.2.1\" -DPACKAGE_STRING=\"autodock\ 4.2.2.1\" -DPACKAGE_BUGREPORT=\"autodock@scripps.edu\" -DPACKAGE=\"autodock\" -DVERSION=\"4.2.2.1\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE__BOOL=1 -DHAVE_STDLIB_H=1 -DHAVE_MALLOC=1 -DHAVE_GETHOSTNAME=1 -DHAVE_POW=1 -DHAVE_SQRT=1 -DHAVE_STRNCASECMP=1' SELECTED_CCOMPILER='/opt/ibmcmp/vacpp/bg/9.0/bin/bgxlc_r' SELECTED_CPPCOMPILER='/opt/ibmcmp/vacpp/bg/9.0/bin/bgxlC_r' AM_CXXFLAGS='-O3 -qsmp=omp' AUTODOCK_EXEC_NAME=autodock4-bgp-omp-nompi autodock4-bgp-omp-nompi

cleanpower7:
	touch dummy.o
	rm *.o
	touch autodock4-power7-omp-mpi
	rm -rf autodock4-power7-omp-mpi
	touch autodock4-power7-omp-nompi
	rm -rf autodock4-power7-omp-nompi
	touch autodock4-power7-serial-nompi
	rm -rf autodock4-power7-serial-nompi

autodock4-power7-omp-nompi:	
	export OBJECT_MODE=64;make -f Makefile.base DEFS='-DPOWER7=1 -DPACKAGE_NAME=\"autodock\" -DPACKAGE_TARNAME=\"autodock\" -DPACKAGE_VERSION=\"4.2.2.1\" -DPACKAGE_STRING=\"autodock\ 4.2.2.1\" -DPACKAGE_BUGREPORT=\"autodock@scripps.edu\" -DPACKAGE=\"autodock\" -DVERSION=\"4.2.2.1\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE__BOOL=1 -DHAVE_STDLIB_H=1 -DHAVE_MALLOC=1 -DHAVE_GETHOSTNAME=1 -DHAVE_POW=1 -DHAVE_SQRT=1 -DHAVE_STRNCASECMP=1' SELECTED_CCOMPILER='/vol/compilers/5.3/vac11.1.0.1/usr/vacpp/bin/xlc_r' SELECTED_CPPCOMPILER='/vol/compilers/5.3/vac11.1.0.1/usr/vacpp/bin/xlC_r' AM_CXXFLAGS='-O3 -qsmp=omp -q64 -DWORKAROUND_ISSUE1465=1' AUTODOCK_EXEC_NAME=autodock4-power7-omp-nompi EXPORTOBJMODE='export OBJECT_MODE=64' autodock4-power7-omp-nompi

autodock4-power7-serial-nompi:	
	export OBJECT_MODE=64;make -f Makefile.base DEFS='-DPOWER7=1 -DPACKAGE_NAME=\"autodock\" -DPACKAGE_TARNAME=\"autodock\" -DPACKAGE_VERSION=\"4.2.2.1\" -DPACKAGE_STRING=\"autodock\ 4.2.2.1\" -DPACKAGE_BUGREPORT=\"autodock@scripps.edu\" -DPACKAGE=\"autodock\" -DVERSION=\"4.2.2.1\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE__BOOL=1 -DHAVE_STDLIB_H=1 -DHAVE_MALLOC=1 -DHAVE_GETHOSTNAME=1 -DHAVE_POW=1 -DHAVE_SQRT=1 -DHAVE_STRNCASECMP=1' SELECTED_CCOMPILER='/vol/compilers/AIX/xlc11.1.0.4/usr/vacpp/bin/xlc_r' SELECTED_CPPCOMPILER='/vol/compilers/AIX/xlc11.1.0.4/usr/vacpp/bin/xlC_r' AM_CXXFLAGS='-O3 -q64 -DWORKAROUND_ISSUE1465=1' AUTODOCK_EXEC_NAME=autodock4-power7-serial-nompi EXPORTOBJMODE='export OBJECT_MODE=64' autodock4-power7-serial-nompi

autodock4-x86-serial-nompi:	
	make -f Makefile.base DEFS='-DPACKAGE_NAME=\"autodock\" -DPACKAGE_TARNAME=\"autodock\" -DPACKAGE_VERSION=\"4.2.2.1\" -DPACKAGE_STRING=\"autodock\ 4.2.2.1\" -DPACKAGE_BUGREPORT=\"autodock@scripps.edu\" -DPACKAGE=\"autodock\" -DVERSION=\"4.2.2.1\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE__BOOL=1 -DHAVE_STDLIB_H=1 -DHAVE_MALLOC=1 -DHAVE_GETHOSTNAME=1 -DHAVE_POW=1 -DHAVE_SQRT=1 -DHAVE_STRNCASECMP=1' SELECTED_CCOMPILER='/opt/intel/Compiler/11.1/064/bin/intel64/icpc' SELECTED_CPPCOMPILER='/opt/intel/Compiler/11.1/064/bin/intel64/icpc' AM_CXXFLAGS='-O3 -DWORKAROUND_ISSUE1465=1' AUTODOCK_EXEC_NAME=autodock4-x86-serial-nompi autodock4-x86-serial-nompi

autodock4-x86-omp-nompi:	
	make -f Makefile.base DEFS='-DPACKAGE_NAME=\"autodock\" -DPACKAGE_TARNAME=\"autodock\" -DPACKAGE_VERSION=\"4.2.2.1\" -DPACKAGE_STRING=\"autodock\ 4.2.2.1\" -DPACKAGE_BUGREPORT=\"autodock@scripps.edu\" -DPACKAGE=\"autodock\" -DVERSION=\"4.2.2.1\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE__BOOL=1 -DHAVE_STDLIB_H=1 -DHAVE_MALLOC=1 -DHAVE_GETHOSTNAME=1 -DHAVE_POW=1 -DHAVE_SQRT=1 -DHAVE_STRNCASECMP=1' SELECTED_CCOMPILER='/opt/intel/Compiler/11.1/064/bin/intel64/icpc' SELECTED_CPPCOMPILER='/opt/intel/Compiler/11.1/064/bin/intel64/icpc' AM_CXXFLAGS='-O3 -openmp -DWORKAROUND_ISSUE1465=1' AUTODOCK_EXEC_NAME=autodock4-x86-omp-nompi autodock4-x86-omp-nompi


autodock4-x86-omp-mpi:
	export PATH=/opt/intel/Compiler/11.1/064/bin/intel64:$PATH;make -f Makefile.base DEFS='-DPERF_PROFILING=1 -DAUTODOCK_MPI=1 -DPACKAGE_NAME=\"autodock\" -DPACKAGE_TARNAME=\"autodock\" -DPACKAGE_VERSION=\"4.2.2.1\" -DPACKAGE_STRING=\"autodock\ 4.2.2.1\" -DPACKAGE_BUGREPORT=\"autodock@scripps.edu\" -DPACKAGE=\"autodock\" -DVERSION=\"4.2.2.1\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE__BOOL=1 -DHAVE_STDLIB_H=1 -DHAVE_MALLOC=1 -DHAVE_GETHOSTNAME=1 -DHAVE_POW=1 -DHAVE_SQRT=1 -DHAVE_STRNCASECMP=1' SELECTED_CCOMPILER='/opt/intel/impi/4.0.0/bin64/mpiicpc' SELECTED_CPPCOMPILER='/opt/intel/impi/4.0.0/bin64/mpiicpc' AM_CXXFLAGS='-O3 -openmp -mt_mpi' AUTODOCK_EXEC_NAME=autodock4-x86-omp-mpi autodock4-x86-omp-mpi

autodock4-x86-serial-mpi:
	export PATH=/opt/intel/Compiler/11.1/064/bin/intel64:$PATH;make -f Makefile.base DEFS='-DPERF_PROFILING=1 -DAUTODOCK_MPI=1 -DPACKAGE_NAME=\"autodock\" -DPACKAGE_TARNAME=\"autodock\" -DPACKAGE_VERSION=\"4.2.2.1\" -DPACKAGE_STRING=\"autodock\ 4.2.2.1\" -DPACKAGE_BUGREPORT=\"autodock@scripps.edu\" -DPACKAGE=\"autodock\" -DVERSION=\"4.2.2.1\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE__BOOL=1 -DHAVE_STDLIB_H=1 -DHAVE_MALLOC=1 -DHAVE_GETHOSTNAME=1 -DHAVE_POW=1 -DHAVE_SQRT=1 -DHAVE_STRNCASECMP=1' SELECTED_CCOMPILER='/opt/intel/impi/4.0.0/bin64/mpiicpc' SELECTED_CPPCOMPILER='/opt/intel/impi/4.0.0/bin64/mpiicpc' AM_CXXFLAGS='-O3 ' AUTODOCK_EXEC_NAME=autodock4-x86-serial-mpi autodock4-x86-serial-mpi

